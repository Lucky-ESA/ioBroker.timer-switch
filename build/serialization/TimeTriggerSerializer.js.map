{
  "version": 3,
  "sources": ["../../src/serialization/TimeTriggerSerializer.ts"],
  "sourcesContent": ["import { Action } from \"../actions/Action\";\nimport { TimeTrigger } from \"../triggers/TimeTrigger\";\nimport { TimeTriggerBuilder } from \"../triggers/TimeTriggerBuilder\";\nimport { Trigger } from \"../triggers/Trigger\";\nimport { Serializer } from \"./Serializer\";\nimport { UniversalSerializer } from \"./UniversalSerializer\";\n\nexport class TimeTriggerSerializer implements Serializer<Trigger> {\n    constructor(private readonly actionSerializer: UniversalSerializer<Action>) {}\n\n    public deserialize(stringToDeserialize: string): Trigger {\n        const json = JSON.parse(stringToDeserialize);\n        if (json.type !== this.getType()) {\n            throw new Error(`Can not deserialize object of type ${json.type}`);\n        }\n        return new TimeTriggerBuilder()\n            .setAction(this.actionSerializer.deserialize(JSON.stringify(json.action)))\n            .setHour(json.hour)\n            .setMinute(json.minute)\n            .setWeekdays(json.weekdays)\n            .setId(json.id)\n            .build();\n    }\n\n    public serialize(objectToSerialize: Trigger): string {\n        if (objectToSerialize == null) {\n            throw new Error(\"objectToSerialize may not be null or undefined.\");\n        }\n        if (objectToSerialize instanceof TimeTrigger) {\n            return JSON.stringify({\n                type: this.getType(),\n                hour: objectToSerialize.getHour(),\n                minute: objectToSerialize.getMinute(),\n                weekdays: objectToSerialize.getWeekdays(),\n                id: objectToSerialize.getId(),\n                action: JSON.parse(this.actionSerializer.serialize(objectToSerialize.getAction())),\n            });\n        } else {\n            throw new Error(\"objectToSerialize must be of type TimeTrigger.\");\n        }\n    }\n\n    getType(): string {\n        return TimeTrigger.prototype.constructor.name;\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,yBAA4B;AAC5B,gCAAmC;AAK5B,MAAM,sBAAqD;AAAA,EAC9D,YAA6B,kBAA+C;AAA/C;AAAA,EAAgD;AAAA,EAEtE,YAAY,qBAAsC;AACrD,UAAM,OAAO,KAAK,MAAM,mBAAmB;AAC3C,QAAI,KAAK,SAAS,KAAK,QAAQ,GAAG;AAC9B,YAAM,IAAI,MAAM,sCAAsC,KAAK,IAAI,EAAE;AAAA,IACrE;AACA,WAAO,IAAI,6CAAmB,EACzB,UAAU,KAAK,iBAAiB,YAAY,KAAK,UAAU,KAAK,MAAM,CAAC,CAAC,EACxE,QAAQ,KAAK,IAAI,EACjB,UAAU,KAAK,MAAM,EACrB,YAAY,KAAK,QAAQ,EACzB,MAAM,KAAK,EAAE,EACb,MAAM;AAAA,EACf;AAAA,EAEO,UAAU,mBAAoC;AACjD,QAAI,qBAAqB,MAAM;AAC3B,YAAM,IAAI,MAAM,iDAAiD;AAAA,IACrE;AACA,QAAI,6BAA6B,gCAAa;AAC1C,aAAO,KAAK,UAAU;AAAA,QAClB,MAAM,KAAK,QAAQ;AAAA,QACnB,MAAM,kBAAkB,QAAQ;AAAA,QAChC,QAAQ,kBAAkB,UAAU;AAAA,QACpC,UAAU,kBAAkB,YAAY;AAAA,QACxC,IAAI,kBAAkB,MAAM;AAAA,QAC5B,QAAQ,KAAK,MAAM,KAAK,iBAAiB,UAAU,kBAAkB,UAAU,CAAC,CAAC;AAAA,MACrF,CAAC;AAAA,IACL,OAAO;AACH,YAAM,IAAI,MAAM,gDAAgD;AAAA,IACpE;AAAA,EACJ;AAAA,EAEA,UAAkB;AACd,WAAO,+BAAY,UAAU,YAAY;AAAA,EAC7C;AACJ;",
  "names": []
}
