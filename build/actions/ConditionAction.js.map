{
  "version": 3,
  "sources": ["../../src/actions/ConditionAction.ts"],
  "sourcesContent": ["import { LoggingService } from \"../services/LoggingService\";\nimport { Action } from \"./Action\";\nimport { Condition } from \"./conditions/Condition\";\n\nexport class ConditionAction implements Action {\n    private readonly condition: Condition;\n    private action: Action;\n\n    constructor(\n        condition: Condition,\n        action: Action,\n        private logger?: LoggingService,\n    ) {\n        if (condition == null) {\n            throw new Error(\"condition may not be null or undefined\");\n        }\n        if (action == null) {\n            throw new Error(\"action may not be null or undefined\");\n        }\n        this.condition = condition;\n        this.action = action;\n    }\n\n    public getAction(): Action {\n        return this.action;\n    }\n\n    public setAction(action: Action): void {\n        if (action == null) {\n            throw new Error(\"action may not be null or undefined\");\n        }\n        this.action = action;\n    }\n\n    public getCondition(): Condition {\n        return this.condition;\n    }\n\n    public execute(): void {\n        this.condition\n            .evaluate()\n            .then((result) => {\n                if (result) {\n                    this.logger?.logDebug(`Executing action because condition ${this.condition} evaluated to true`);\n                    this.action.execute();\n                } else {\n                    this.logger?.logDebug(\n                        `Not executing action because condition ${this.condition} evaluated to false`,\n                    );\n                }\n            })\n            .catch((e) => {\n                this.logger?.logError(`Error while evaluating condition: ${this.condition}, ${e}`);\n            });\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAIO,MAAM,gBAAkC;AAAA,EAI3C,YACI,WACA,QACQ,QACV;AADU;AAER,QAAI,aAAa,MAAM;AACnB,YAAM,IAAI,MAAM,wCAAwC;AAAA,IAC5D;AACA,QAAI,UAAU,MAAM;AAChB,YAAM,IAAI,MAAM,qCAAqC;AAAA,IACzD;AACA,SAAK,YAAY;AACjB,SAAK,SAAS;AAAA,EAClB;AAAA,EAhBiB;AAAA,EACT;AAAA,EAiBD,YAAoB;AACvB,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,UAAU,QAAsB;AACnC,QAAI,UAAU,MAAM;AAChB,YAAM,IAAI,MAAM,qCAAqC;AAAA,IACzD;AACA,SAAK,SAAS;AAAA,EAClB;AAAA,EAEO,eAA0B;AAC7B,WAAO,KAAK;AAAA,EAChB;AAAA,EAEO,UAAgB;AACnB,SAAK,UACA,SAAS,EACT,KAAK,CAAC,WAAW;AAzC9B;AA0CgB,UAAI,QAAQ;AACR,mBAAK,WAAL,mBAAa,SAAS,sCAAsC,KAAK,SAAS;AAC1E,aAAK,OAAO,QAAQ;AAAA,MACxB,OAAO;AACH,mBAAK,WAAL,mBAAa;AAAA,UACT,0CAA0C,KAAK,SAAS;AAAA;AAAA,MAEhE;AAAA,IACJ,CAAC,EACA,MAAM,CAAC,MAAM;AAnD1B;AAoDgB,iBAAK,WAAL,mBAAa,SAAS,qCAAqC,KAAK,SAAS,KAAK,CAAC;AAAA,IACnF,CAAC;AAAA,EACT;AACJ;",
  "names": []
}
